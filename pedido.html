<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pedidos por WhatsApp — Anastacio</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:wght@300;400;500&family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --gold: #C9A84C;
    --dark: #0D0D0D;
    --dark3: #1a1a1a;
    --cream: #F5EDD6;
    --cream-dim: rgba(245,237,214,0.65);
    --border: rgba(201,168,76,0.22);
  }
  body { background: var(--dark); color: var(--cream); font-family: 'Cormorant Garamond', serif; min-height: 100vh; }

  .wa-section { max-width: 900px; margin: 0 auto; padding: 60px 24px 80px; }

  .wa-header { text-align: center; margin-bottom: 52px; }
  .eyebrow { font-family: 'Bebas Neue', sans-serif; letter-spacing: 5px; font-size: 12px; color: var(--gold); margin-bottom: 14px; display: block; }
  .wa-header h2 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 5vw, 3.2rem); font-weight: 400; color: var(--cream); margin-bottom: 14px; line-height: 1.1; }
  .wa-header p { font-size: 1rem; font-weight: 300; color: var(--cream-dim); max-width: 440px; margin: 0 auto; line-height: 1.7; }

  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 36px; }
  @media(max-width:560px){ .form-row { grid-template-columns: 1fr; } }
  .field-group { display: flex; flex-direction: column; gap: 8px; }
  .field-group label { font-family: 'Bebas Neue', sans-serif; letter-spacing: 3px; font-size: 11px; color: var(--gold); }
  .field-group input, .field-group select, .field-group textarea {
    background: var(--dark3); border: 1px solid var(--border); color: var(--cream);
    font-family: 'Cormorant Garamond', serif; font-size: 1rem; padding: 12px 16px;
    outline: none; transition: border-color .2s; appearance: none; border-radius: 0;
  }
  .field-group input:focus, .field-group select:focus, .field-group textarea:focus { border-color: var(--gold); }
  .field-group input::placeholder, .field-group textarea::placeholder { color: rgba(245,237,214,0.3); }
  .field-group select option { background: #1a1a1a; }
  .field-group textarea { resize: vertical; min-height: 80px; }

  .cat-block { margin-bottom: 36px; }
  .cat-title { font-family: 'Bebas Neue', sans-serif; letter-spacing: 5px; font-size: 13px; color: var(--gold); border-bottom: 1px solid var(--border); padding-bottom: 10px; margin-bottom: 16px; }
  .items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 10px; }

  .item-label {
    display: flex; align-items: flex-start; gap: 12px; cursor: pointer;
    padding: 12px 14px; border: 1px solid var(--border); background: var(--dark3);
    transition: border-color .2s, background .2s; user-select: none;
  }
  .item-label:hover { border-color: rgba(201,168,76,.5); background: rgba(201,168,76,.04); }
  .item-label input[type="checkbox"] { display: none; }
  .item-label.checked { border-color: var(--gold); background: rgba(201,168,76,.09); }
  .check-box {
    width: 18px; height: 18px; min-width: 18px;
    border: 1px solid var(--border); display: flex;
    align-items: center; justify-content: center; margin-top: 2px; transition: all .15s;
  }
  .item-label.checked .check-box { background: var(--gold); border-color: var(--gold); }
  .check-box svg { display: none; }
  .item-label.checked .check-box svg { display: block; }
  .item-info { flex: 1; }
  .item-name { font-size: .95rem; font-weight: 500; color: var(--cream); line-height: 1.3; }
  .item-price { font-family: 'Bebas Neue', sans-serif; font-size: .85rem; letter-spacing: 1px; color: var(--gold); margin-top: 2px; }

  .item-qty { display: none; align-items: center; gap: 6px; margin-top: 8px; }
  .item-label.checked .item-qty { display: flex; }
  .qty-btn {
    width: 22px; height: 22px; background: var(--dark); border: 1px solid var(--gold);
    color: var(--gold); font-size: 16px; line-height: 1; cursor: pointer;
    display: flex; align-items: center; justify-content: center; padding: 0; transition: background .15s;
  }
  .qty-btn:hover { background: var(--gold); color: var(--dark); }
  .qty-num { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: var(--cream); min-width: 20px; text-align: center; }

  .total-bar {
    display: flex; justify-content: space-between; align-items: center;
    padding: 16px 20px; border: 1px solid var(--border); background: var(--dark3); margin-bottom: 32px;
  }
  .total-label { font-family: 'Bebas Neue', sans-serif; letter-spacing: 4px; font-size: 12px; color: var(--gold); }
  .total-amount { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--cream); }
  .total-amount span.sym { font-size: 1rem; color: var(--gold); margin-right: 4px; }

  .wa-btn {
    display: flex; align-items: center; justify-content: center; gap: 12px;
    width: 100%; padding: 18px 32px; background: #25D366; color: #fff;
    border: none; cursor: pointer; font-family: 'Bebas Neue', sans-serif;
    letter-spacing: 4px; font-size: 1.05rem; transition: background .2s, transform .1s;
  }
  .wa-btn:hover { background: #1ebe5c; }
  .wa-btn:active { transform: scale(.99); }

  .gold-line { height: 1px; background: linear-gradient(to right, transparent, var(--gold), transparent); margin: 36px 0; }
</style>
</head>
<body>
<section class="wa-section" id="pedidos">

  <div class="wa-header">
    <span class="eyebrow">Pide desde casa</span>
    <h2>Ordena por<br><em>WhatsApp</em></h2>
    <p>Selecciona lo que se te antoje, indica tu nombre y la hora de recolección y te confirmamos.</p>
  </div>

  <div class="form-row">
    <div class="field-group">
      <label>Tu nombre</label>
      <input type="text" id="waName" placeholder="¿Cómo te llamas?">
    </div>
    <div class="field-group">
      <label>Hora de recolección</label>
      <select id="waTime">
        <option value="">Selecciona hora...</option>
        <option>13:00</option><option>13:30</option><option>14:00</option>
        <option>14:30</option><option>15:00</option><option>15:30</option>
        <option>16:00</option><option>16:30</option><option>17:00</option>
        <option>17:30</option><option>18:00</option><option>18:30</option>
        <option>19:00</option><option>19:30</option><option>20:00</option>
        <option>20:30</option><option>21:00</option><option>21:30</option>
        <option>22:00</option>
      </select>
    </div>
  </div>

  <div id="menuItems">
    <div class="cat-block"><div class="cat-title">Los Aguachiles</div><div class="items-grid" id="g-aguachiles"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Los Taquitos</div><div class="items-grid" id="g-taquitos"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Las Tostaditas</div><div class="items-grid" id="g-tostaditas"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Los Platillos</div><div class="items-grid" id="g-platillos"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Para Seguirle Tomando</div><div class="items-grid" id="g-snacks"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Las Bebidas</div><div class="items-grid" id="g-bebidas"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Las Cheves</div><div class="items-grid" id="g-cheves"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Los Traguitos</div><div class="items-grid" id="g-traguitos"></div></div><div class="gold-line"></div>
    <div class="cat-block"><div class="cat-title">Los Peques y Postres</div><div class="items-grid" id="g-peques"></div></div>
  </div>

  <div class="gold-line"></div>

  <div class="field-group" style="margin-bottom:28px;">
    <label>Notas / Alergias</label>
    <textarea id="waNotes" placeholder="Sin cebolla, extra salsa, alergia a..."></textarea>
  </div>

  <div class="total-bar">
    <span class="total-label">Total estimado</span>
    <span class="total-amount"><span class="sym">$</span><span id="totalNum">0</span></span>
  </div>

  <button class="wa-btn" onclick="enviarWA()">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.115.553 4.102 1.519 5.827L0 24l6.335-1.502A11.954 11.954 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.815 9.815 0 01-5.027-1.383l-.36-.214-3.732.885.924-3.634-.235-.374A9.818 9.818 0 012.182 12C2.182 6.57 6.57 2.182 12 2.182S21.818 6.57 21.818 12 17.43 21.818 12 21.818z"/></svg>
    Enviar Pedido por WhatsApp
  </button>

</section>

<script>
var MENU = {
  'g-aguachiles': [['Aguachile Mixto',230],['Aguachile Tropical',230],['Aguachile Mitotero',250]],
  'g-taquitos': [['Quesito',135],['Vaquita',150],['Don Arturo',145],['Tio Juanito',145],['Fresa',155],['Crujiente',65],['Volvancito',150]],
  'g-tostaditas': [['Tataki',175],['Tostada Aguachile',160],['Chava',160],['Dona Julia',175],['Diva',185],['Tuna Macha',160],['La de Ceviche',160]],
  'g-platillos': [['Las Costillonas (1/2 orden)',490],['Las Costillonas (orden completa)',890],['Aguachile de Papada',220],['Aguachile de Picana',245],['Sashimi Tuna',200],['Ceviche Speak',210],['Ceviche Mixto',190],['Camarones Roca',175],['Alitas / Boneless',190]],
  'g-snacks': [['Orden de Papas',80],['Papas Salseadas',70],['Cacahuatadas',60]],
  'g-bebidas': [['Limonada',65],['Agua Natura',45],['Topochico',50],['Perrier',75],['Refresco',45],['Rusa',65],['Vaso Escarchado',40],['Vaso Michelado',70]],
  'g-cheves': [['Pacifico Clara',50],['Pacifico Suave',50],['Corona',45],['Modelo Especial',55],['Modelo Negra',55],['Caguama Familiar',120],['Bichola Lata',70],['Bichola Barril',80],['Misil Bichola',200]],
  'g-traguitos': [['Mezcalita',150],['Osito Rojo',140],['Tacho Sour',160],['Ballenita',150],['Batanga Anastacio',150],['Pica Flor',195],['Carajo',170],['Carajillo Difunto',170],['Macktail',120]],
  'g-peques': [['Pollitos',120],['Hamburguesa (kids)',140],['Mini Pizza',120],['Postre del Dia',120]]
};

var CHECK_SVG = '<svg width="10" height="8" viewBox="0 0 10 8" fill="none"><path d="M1 4L3.5 6.5L9 1" stroke="#0D0D0D" stroke-width="1.8" stroke-linecap="round"/></svg>';

function buildMenu() {
  Object.keys(MENU).forEach(function(gridId) {
    var grid = document.getElementById(gridId);
    MENU[gridId].forEach(function(item) {
      var name = item[0], price = item[1];
      var lbl = document.createElement('label');
      lbl.className = 'item-label';
      lbl.innerHTML =
        '<input type="checkbox" value="' + name + '|' + price + '">' +
        '<div class="check-box">' + CHECK_SVG + '</div>' +
        '<div class="item-info">' +
          '<div class="item-name">' + name + '</div>' +
          '<div class="item-price">$' + price + '</div>' +
          '<div class="item-qty">' +
            '<button class="qty-btn" type="button">-</button>' +
            '<span class="qty-num">1</span>' +
            '<button class="qty-btn" type="button">+</button>' +
          '</div>' +
        '</div>';
      lbl.addEventListener('click', function(e) {
        if (e.target.classList.contains('qty-btn')) return;
        var cb = lbl.querySelector('input[type="checkbox"]');
        cb.checked = !cb.checked;
        lbl.classList.toggle('checked', cb.checked);
        actualizaTotal();
      });
      var btns = lbl.querySelectorAll('.qty-btn');
      btns[0].addEventListener('click', function(e) {
        e.stopPropagation();
        var n = lbl.querySelector('.qty-num');
        var v = parseInt(n.textContent) - 1;
        if (v < 1) v = 1;
        n.textContent = v;
        actualizaTotal();
      });
      btns[1].addEventListener('click', function(e) {
        e.stopPropagation();
        var n = lbl.querySelector('.qty-num');
        n.textContent = parseInt(n.textContent) + 1;
        actualizaTotal();
      });
      grid.appendChild(lbl);
    });
  });
}

function actualizaTotal() {
  var checks = document.querySelectorAll('#menuItems input[type="checkbox"]:checked');
  var total = 0;
  for (var i = 0; i < checks.length; i++) {
    var val = checks[i].value.split('|');
    var precio = parseInt(val[1]) || 0;
    var qty = parseInt(checks[i].closest('.item-label').querySelector('.qty-num').textContent);
    total += precio * qty;
  }
  document.getElementById('totalNum').textContent = total;
}

function enviarWA() {
  var nombre = document.getElementById('waName').value.trim();
  var hora   = document.getElementById('waTime').value;
  var notas  = document.getElementById('waNotes').value.trim();
  var checks = document.querySelectorAll('#menuItems input[type="checkbox"]:checked');
  var platos = [];

  for (var i = 0; i < checks.length; i++) {
    var val  = checks[i].value.split('|');
    var qty  = parseInt(checks[i].closest('.item-label').querySelector('.qty-num').textContent);
    platos.push('  ' + qty + 'x ' + val[0] + ' ($' + val[1] + ' c/u)');
  }

  if (!nombre) { alert('Por favor ingresa tu nombre.'); return; }
  if (!platos.length) { alert('Selecciona al menos un platillo.'); return; }
  if (!hora) { alert('Selecciona la hora de recoleccion.'); return; }

  var total = document.getElementById('totalNum').textContent;

  var msg = 'PEDIDO ANASTACIO\n'
    + '------------------------------\n'
    + 'Nombre: ' + nombre + '\n'
    + 'Hora de recoleccion: ' + hora + '\n'
    + '------------------------------\n'
    + 'PEDIDO:\n'
    + platos.join('\n') + '\n'
    + '------------------------------\n'
    + 'Total estimado: $' + total + ' MXN';
  if (notas) msg += '\nNotas: ' + notas;
  msg += '\n\nGracias!';

  window.open('https://wa.me/523318916060?text=' + encodeURIComponent(msg), '_blank');
}

buildMenu();
</script>
</body>
</html>
